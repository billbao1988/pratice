<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>科学计算器</title>
    <style>
        input.operate, input.num {width: 44px; height: 30px; }
        input.operate:hover, input.num:hover {background-color: #dab273}
        #ui {background-color: #d9e4f1}
    </style>
</head>
<body>
<div id="container">
    <div id="header">
        <h1 style="text-align: center">科学计算器</h1>
    </div>
    <div id="calculator" >
        <form id = "ui" style="width: 520px; text-align:center; margin: 0 auto">
            <table id="main" border="0" cellpadding="0" cellspacing="5" style="margin: 0 auto">
                <tr>
                    <td colspan="2">
                        <fieldset id="outputDisplay" style="background-color: #ffffff; width: 488px; padding: 0 0; border-width: 1px; margin: 0 5px">
                            <input id="exp" value="" readonly="readonly" style="width: 470px; text-align: right; border-style: none; font-size: 20px; padding: 0; margin: auto"><br />
                            <input id="curNum" value="0" readonly="readonly" style="width: 470px; text-align: right; border-style: none; font-size: 40px; padding: 0; margin: auto">
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <td>
                        <table class="keyboard" border="0" cellspacing="5" cellpadding="0" style="width: 245px">
                            <tr>
                                <td colspan="5">
                                    <fieldset id="angleUnit" style="width: 241px; height: 30px; border-width: 1px; padding: 0 0; margin: 0 auto">
                                        <input type="radio" name="degree" value="degree" checked="checked">度
                                        <input type="radio" name="radian" value="radian">弧度
                                        <input type="radio" name="gradient" value="gradient">梯度
                                    </fieldset>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="operate" type="button" disabled="disabled">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="Inv" value="Inv" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="In" value="In" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value="(" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value=")" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="operate" type="button" name="Int" value="Int" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="sinh" value="sinh" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="sin" value="sin" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="x2" value="x^2" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="n!" value="n!" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="operate" type="button" name="dms" value="dms" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="cosh" value="cosh" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="cos" value="cos" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="xy" value="x^y" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value="" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="num" type="button" name="pi" value="pi" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="tanh" value="tanh" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="tan" value="tan" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="x3" value="x^3" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value="" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="operate" type="button" name="FE" value="F-E" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="Exp" value="Exp" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="Mod" value="Mod" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="log" value="log" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="10x" value="10^x" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td>
                        <table class="keyboard" border="0" cellspacing="5" cellpadding="0" style="width: 245px">
                            <tr>
                                <td>
                                    <input class="operate" type="button" name="MC" value="MC" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="MR" value="MR" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="MS" value="MS" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="M+" value="M+" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="M-" value="M-" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="operate" type="button" name="arraw" value="<-" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="CE" value="CE" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="C" value="C" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value="" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value="" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="num" type="button" name="7" value="7" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="8" value="8" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="9" value="9" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="/" value="/" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="%" value="%" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="num" type="button" name="4" value="4" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="5" value="5" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="6" value="6" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="*" value="*" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="" value="1/x" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input class="num" type="button" name="1" value="1" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="2" value="2" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="3" value="3" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="-" value="-" onclick="onClickBtn(this)">
                                </td>
                                <td rowspan="2">
                                    <input class="operate" type="button" name="=" value="=" style="height: 65px" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <input class="num" type="button" name="0" value="0" style="width: 93px" onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="num" type="button" name="." value="." onclick="onClickBtn(this)">
                                </td>
                                <td>
                                    <input class="operate" type="button" name="+" value="+" onclick="onClickBtn(this)">
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </form>

    </div>
    <div id="footer"></div>
</div>

<script>
    function onClickBtn(btn){
        console.log("onClickBtn " + btn.name);
        if(btn.classList[0] == "num"){
            if(btn.value == "0") {
                if (curResult != "0") {
                    curResult += btn.value;
                }
            }else if(btn.value == "."){
                if(curResult.indexOf(".") == -1){
                    curResult += btn.value;
                }
            }else{
                if(curResult == "0"){
                    curResult = btn.value;
                }else{
                    curResult += btn.value;
                }

            }
            showCurResult(curResult);
        }else if(btn.classList[0] == "operate"){

        }
    }

    function showCurResult(value){
        console.log("showCurResult " + curResult);
        document.getElementById("curNum").value = value;
    }

    var curResult = "0";
</script>
</body>
</html>